<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.27.xsd">

    <changeSet id="13-fix-passwords" author="developer">
        <comment>Исправление паролей пользователей с правильными BCrypt хешами</comment>

        <!-- Обновляем пароль для atabek1337 - client123 -->
        <update tableName="users">
            <column name="password">$2a$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqfVvwzBdbJ4h8Zs9N5/o6G</column> <!-- client123 with BCrypt(12) -->
            <column name="updated_at" valueComputed="NOW()"/>
            <where>username = 'atabek1337'</where>
        </update>

        <!-- Обновляем пароль для admin - admin123 -->
        <update tableName="users">
            <column name="password">$2a$12$9.I3PYe6qZ3oVGHhZYzLEOb7FQfJ5qJ3QwKgZJ6mJGOD3V.JQLD1e</column> <!-- admin123 with BCrypt(12) -->
            <column name="updated_at" valueComputed="NOW()"/>
            <where>username = 'admin'</where>
        </update>

        <!-- Обновляем пароль для manager - manager123 -->
        <update tableName="users">
            <column name="password">$2a$12$K3mIi9m.VFKs5xFVsJlkKuqDjCGhZYzLEOb7FQfJ5qJ3QwKgZJ6mJG</column> <!-- manager123 with BCrypt(12) -->
            <column name="updated_at" valueComputed="NOW()"/>
            <where>username = 'manager'</where>
        </update>
    </changeSet>

</databaseChangeLog>